<div class="settings-page">
  <h2>General Settings</h2>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Organization Information</mat-card-title>
      <mat-card-subtitle>Manage your organization's basic information</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <mat-spinner *ngIf="isLoading" diameter="40"></mat-spinner>

      <form [formGroup]="settingsForm" *ngIf="!isLoading">
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Organization Name</mat-label>
            <input matInput formControlName="name" placeholder="Your organization name">
            <mat-error *ngIf="settingsForm.get('name')?.hasError('required')">
              Organization name is required
            </mat-error>
            <mat-error *ngIf="settingsForm.get('name')?.hasError('minlength')">
              Must be at least 2 characters
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Subdomain</mat-label>
            <input matInput formControlName="subdomain" placeholder="subdomain">
            <mat-hint>Used for your organization's URL</mat-hint>
            <mat-error *ngIf="settingsForm.get('subdomain')?.hasError('required')">
              Subdomain is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Plan</mat-label>
            <mat-select formControlName="plan">
              <mat-option value="basic">Basic</mat-option>
              <mat-option value="pro">Professional</mat-option>
              <mat-option value="enterprise">Enterprise</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Max Users</mat-label>
            <input matInput type="number" formControlName="maxUsers" placeholder="Maximum users">
            <mat-error *ngIf="settingsForm.get('maxUsers')?.hasError('required')">
              Max users is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="actions">
          <button mat-raised-button color="primary" type="button" (click)="saveSettings()" [disabled]="isSaving">
            <mat-spinner *ngIf="isSaving" diameter="20" class="inline-spinner"></mat-spinner>
            {{ isSaving ? 'Saving...' : 'Save Changes' }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
